@{
    ViewBag.Title += " | HomePage";
}

@section head {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
}

<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">🌍 Travelling by Bus, Train and Ferry in Malaysia!</h1>
        <p class="hero-subtitle">Book your next adventure with ease and comfort</p>

        <div class="search-widget-wrapper">

            <div class="transport-tabs">
                <button type="button" class="transport-tab active" data-transport="Bus">
                    <span>🚌</span> Bus
                </button>
                <button type="button" class="transport-tab" data-transport="Train">
                    <span>🚄</span> Train
                </button>
                <button type="button" class="transport-tab" data-transport="Ferry">
                    <span>🚢</span> Ferry
                </button>
            </div>
            <br /><br />
            <div class="search-bar-container">
                <form class="search-form-row" method="post" action="/RouteNTrip/SearchTrip">

                    <input type="hidden" id="transportTypeInput" name="transportType" value="Bus">

                    <div class="input-group-row first">
                        <span class="input-icon">📍</span>
                        <div class="input-text-wrapper">
                            <label for="origin">Origin</label>
                            <input type="text" id="origin" name="origin" placeholder="From..." required autocomplete="off" list="locationList">
                        </div>
                    </div>

                    <button type="button" class="btn-swap" title="Swap Locations">
                        ⇄
                    </button>

                    <div class="input-group-row">
                        <span class="input-icon">📍</span>
                        <div class="input-text-wrapper">
                            <label for="destination">Destination</label>
                            <input type="text" id="destination" name="destination" placeholder="To..." required autocomplete="off" list="locationList">
                        </div>
                    </div>

                    <div class="input-group-row date-group">
                        <span class="input-icon">📅</span>
                        <div class="input-text-wrapper">
                            <label for="departDate">Depart Date</label>
                            <input type="text" id="departDate" name="departDate" placeholder="Select Date" required>
                        </div>
                    </div>

                    <div class="input-group-row date-group">
                        <span class="input-icon">📅</span>
                        <div class="input-text-wrapper">
                            <label for="returnDate">Return Date</label>
                            <input type="text" id="returnDate" name="returnDate" placeholder="Optional">
                        </div>
                    </div>

                    @if (User.Identity.IsAuthenticated)
                    {
                    <button type="submit" class="btn-search-trip">
                        Search Trip
                    </button>
                    }
                    else
                    {
                    <button type="button" class="btn-search-trip" onclick="openLoginModal()">
                        Search Trip
                    </button>
                    }

                    <datalist id="locationList"></datalist>

                </form>
            </div>
        </div>
    </div>
</section>

<section class="features" id="features">
    <div class="feature">
        <div class="feature-icon">💰</div>
        <h3>Same Ticket Price</h3>
        <p>No hidden fees! Pay the same price as the counter.</p>
    </div>
    <div class="feature">
        <div class="feature-icon">🎁</div>
        <h3>Monthly Promotion</h3>
        <p>Enjoy exclusive discounts and offers every month.</p>
    </div>
    <div class="feature">
        <div class="feature-icon">⭐</div>
        <h3>Reward Points</h3>
        <p>Earn points with every booking and redeem tickets.</p>
    </div>
    <div class="feature">
        <div class="feature-icon">🎧</div>
        <h3>24/7 Support</h3>
        <p>Professional help line available anytime.</p>
    </div>
</section>

<section class="trending" id="trending">
    <div class="trending-header">
        <h2>🔥 Trending News & Offers</h2>
        <a href="#" class="see-all">See All →</a>
    </div>
    <div class="trending-items">
        <div class="trending-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display:flex; align-items:center; justify-content:center; color:white; font-weight:600; padding:20px; text-align:center;">
            🎉 Holiday Special<br>20% OFF All Routes
        </div>
        <div class="trending-item" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); display:flex; align-items:center; justify-content:center; color:white; font-weight:600; padding:20px; text-align:center;">
            ⭐ New Ferry Routes<br>to Langkawi
        </div>
        <div class="trending-item" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); display:flex; align-items:center; justify-content:center; color:white; font-weight:600; padding:20px; text-align:center;">
            🚄 Express Train<br>KL to Penang
        </div>
    </div>
</section>
<div id="loginModal" class="login-modal-overlay" style="display:none;">
    <div class="login-modal-card">
        <span class="close-modal" onclick="closeLoginModal()">×</span>

        <div class="modal-icon-wrapper">
            <span style="font-size: 40px;">🔐</span>
        </div>

        <h3 style="margin: 15px 0 10px; color: var(--text-main);">Login Required</h3>
        <p style="color: var(--text-light); margin-bottom: 25px; line-height: 1.5;">
            To ensure a secure booking experience, please log in or create an account to search for trips.
        </p>

        <div class="modal-actions">
            <a href="/Account/Login" class="btn-modal btn-modal-primary">Log In</a>
            <a href="/Account/Register" class="btn-modal btn-modal-secondary">Create Account</a>
        </div>
    </div>
</div>